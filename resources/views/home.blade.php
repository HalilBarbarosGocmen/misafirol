@extends('layouts.app')@section('content')    <div class="container mt-4 mb-2">        <div class="row d-flex justify-content-center align-items-center">            <div class="col-md-12">               <div class="row d-flex align-items-center justify-content-center gap-1">                        @if(isset($countActivePosts))                        @component('components.menu', [                            'url' => url('#'),                            'title' => 'Aktif İlan',                            'count' =>  $countActivePosts ?? '0',                            'btnClass' => 'btn-danger'                        ])@endcomponent                        @endif                        @if(isset($countPassivePosts))                            @component('components.menu', [                                'url' => url('#'),                                'title' => 'Eşleşenler',                                'count' => $countPassivePosts ?? '0',                                'btnClass' => 'btn-danger'])@endcomponent                        @endif                        @if(isset($countRequests))                            @component('components.menu', [                                    'url' => url('#'),                                    'title' => 'Misafir Ol Talepleri',                                    'count' => $countRequests ?? '0',                                    'btnClass' => 'btn-danger',                                    'aStyle' => 'font-size:0.92rem'])@endcomponent                        @endif                        @if(isset($postsAllCapacity))                            @component('components.menu', [                                        'url' => url('#'),                                        'title' => 'Toplam Kontenjan',                                            'count' => $postsAllCapacity ?? '0',                                        'btnClass' => 'btn-danger',                                        'aStyle' => 'font-size:0.92rem'])@endcomponent                        @endif                </div>            </div>        </div>    </div>    <div class="container mt-4 mb-2">        <div class="row d-flex align-items-center justify-content-center">                <div class="col-12">                    <div class="row d-flex align-items-center justify-content-center gap-1">                        @isset($countIndividualPost)                            @component('components.menu', [                                        'url' => url('/home/individual'),                                        'title' => 'Misafir Ol İlanları',                                        'count' =>  $countIndividualPost])@endcomponent                        @endisset                        @isset($countInstitutionalPost)                            @component('components.menu', [                                            'url' => url('/home/institutional'),                                            'title' => 'Kurumsal İlanlar',                                            'count' => $countInstitutionalPost])@endcomponent                        @endisset                        @isset($countPetAdoptionPost)                            @component('components.menu', [                                                'url' => url('/petadoptions'),                                                'title' => 'Evcil Hayvan İlanı',                                                'count' => $countPetAdoptionPost])@endcomponent                        @endisset                        @isset($countNeedPoolPosts)                            @component('components.menu', [                                                    'url' => url('/needs/all'),                                                    'title' => 'İhtiyaç Havuzu',                                                    'count' => $countNeedPoolPosts])@endcomponent                        @endisset                    </div>                </div>        </div>    </div>    <div class="container hello">        <div class="row justify-content-center">            <div class="col-12 col-sm-12">                <div class="card">                    @if(isset($nviError))                        @component('components.alert', ['msg' => $nviError])@endcomponent                    @endif                    @if(isset($verified))                        @component('components.alert', ['msg' => 'İlan oluşturabilmek için sms doğrulaması yapmanız gerekmektedir!'])@endcomponent                        <div class="row">                            @if($verified === 'sms')                                <form method="POST" action="{{ url('send') }}" enctype="multipart/form-data">                                    @csrf                                    @component('components.form.input', [                                        'name' => 'phone_number',                                        'maxlength' => '10',                                        'placeholder' => 'Telefon numaranızı giriniz',                                        'default' => Auth::user()->phone_number,                                        'smallMsg' => 'Telefon numaranızı başında 0 olmadan giriniz.'                                    ])@endcomponent                                    @component('components.form.button', [                                        'color' => 'secondary',                                        'customClass' => 'btn-sm',                                        'text' => 'Doğrula'                                    ])@endcomponent                                    @if(isset($errors) && $errors === 'gsmError')                                        @component('components.alert', [                                            'msg' => 'Bir hata ile karşılaşıldı lütfen tekrar deneyiniz.'                                        ])@endcomponent                                        @component('components.form.button', [                                            'color' => 'secondary',                                            'customClass' => 'btn-sm',                                            'text' => 'Doğrula'                                        ])@endcomponent                                    @endif                                </form>                            @else                                <form method="post" action="{{ url('checkOtp') }}" enctype="multipart/form-data">                                    @csrf                                    @component('components.form.input', [                                        'name' => 'otp_key',                                        'placeholder' => 'Doğrulama kodunuz giriniz.'                                    ])@endcomponent                                    @if(isset($otp))                                        @component('components.alert', [                                            'msg' => 'Hatalı Doğrulama Kodu Tekrar Deneyiniz'                                        ])@endcomponent                                    @endisset                                </form>                            @endif                        </div>                    @endif                    <div class="card-header d-flex justify-content-between align-items-center">                        <div>                        </div>                        <div>                        @isset(Auth::user()->type)                            @if(Auth::user()->type === 'owner')                                    <a type="button" class="btn btn-success text-white float-end" href="{{url('post/add')}}">                                        İlan Oluştur                                    </a>                            @endif                    @endisset()                        </div>                    </div>                    <div class="card-body">                        @if (session('status'))                            <div class="alert alert-success" role="alert">                                {{ session('status') }}                            </div>                        @endif                        <style>                            @media only screen and (min-width: 1439px) {                                input[type='search']{                                    width: 450px;                                    margin: auto;                                }                                .datatables_filter{                                    width: 750px;                                    margin-bottom: 25px;                                }                                .dataTables_filter > label{                                    margin: auto;                                    position: relative;                                    font-weight: bold;                                    top: 50%;                                    left: -75%;                                }                                .dataTables_length{                                    margin-bottom: 25px;                                 }                            }                        </style>                            <table class="table display nowrap table-stripped" id="post-table" style="width: 100%" >                                <thead class="thead-dark">                                <tr>                                    <th scope="col">ID</th>                                    @if($type == 'institutional')                                        <th scope="col">Kurum Adı</th>                                    @endif                                    <th scope="col">İl / İlçe</th>                                    <th scope="col">Kontenjan</th>                                    <th scope="col">Ulaşım Desteği</th>                                    <th scope="col">İlan Durumu</th>                                    <th scope="col">Müsaitlik Tarihi</th>                                    <th scope="col">İlan Tarihi</th>                                    <th scope="col"></th>                                </tr>                                </thead>                                <tbody>                                </tbody>                            </table>                    </div>                </div>            </div>        </div>    </div>    @push('scripts')        <script type="text/javascript">            $(function () {                let defaultTableColumns = [                    {data: 'city', name: 'city'},                    {data: 'capacity', name: 'capacity'},                    {data: 'transport_assist', name: 'transport_assist'},                    {data: 'status', name: 'status'},                    {data: 'availability_date', name: 'availability_date'},                    {data: 'post_date', name: 'post_date'},                    {data: 'action', name: 'action'},                ];                if ('{{$type}}' == 'institutional') {                    defaultTableColumns = [                        {data: 'id', name: 'id'},                        {data: 'company_name', name: 'company_name'},                        ...defaultTableColumns                    ];                } else {                    defaultTableColumns = [                        {data: 'id', name: 'id'},                        ...defaultTableColumns                    ];                }                $('#post-table').DataTable({                    ...dataTablesConfig,                    processing: true,                    serverSide: true,                    ajax: "{{ url('post/getPosts/' . $type ) }}",                    columns: [                        ...defaultTableColumns                    ]                });            });        </script>    @endpush@endsection